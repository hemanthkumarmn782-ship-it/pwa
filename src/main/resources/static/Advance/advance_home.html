<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Advanced — AI Workout Assistant</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#0f1440;
  --bg2:#241647;
  --card:rgba(255,255,255,0.05);
  --border:rgba(255,255,255,0.08);
  --muted:rgba(255,255,255,0.7);
  --accent:linear-gradient(90deg,#5eead4,#60a5fa);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif;color:#fff}

body{
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:20px;
}

.wrapper{
  width:100%;
  max-width:1400px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:22px;
  backdrop-filter:blur(8px);
}

/* HEADER */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}
.title-large{
  font-size:1.4rem;
  font-weight:800;
}
.sub{
  color:var(--muted);
  font-size:0.95rem;
}

/* Mode Dropdown */
.dropdown{position:relative;}
.dropdown-btn{
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.1);
  padding:8px 14px;
  border-radius:8px;
  color:var(--muted);
  font-weight:700;
  cursor:pointer;
}
.dropdown-menu{
  position:absolute;
  display:none;
  flex-direction:column;
  right:0;
  top:110%;
  min-width:160px;
  background:#162042;
  border:1px solid var(--border);
  border-radius:10px;
  z-index:99;
}
.dropdown-menu button{
  padding:10px 14px;
  background:none;
  border:none;
  color:#fff;
  text-align:left;
  cursor:pointer;
}
.dropdown-menu button:hover{
  background:rgba(255,255,255,0.1);
}

/* GRID */
.exercise-card{
  background:rgba(255,255,255,0.04);
  padding:16px;
  border-radius:12px;
  border:1px solid var(--border);
}
.exercise-title{
  font-size:1.1rem;
  font-weight:700;
  margin-bottom:8px;
}
.exercise-desc{
  color:var(--muted);
  font-size:0.9rem;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
  gap:18px;
}

/* LOGOUT */
.logout-btn{
  margin-top:22px;
  padding:10px 18px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
  background:linear-gradient(90deg,#ff6b6b,#ff8e53);
  color:#1b0f1f;
  border:1px solid rgba(255,255,255,0.15);
  width:180px;
  text-align:center;
  transition:0.25s;
}
.logout-btn:hover{
  transform:translateY(-3px);
}

/* Button */
.btn{
  padding:10px 14px;
  border-radius:10px;
  border:none;
  font-weight:700;
  cursor:pointer;
}
.btn.primary{
  background:var(--accent);
  color:#041026;
}
</style>
</head>

<body>
<div class="wrapper">

  <!-- HEADER -->
  <div class="header">
    <div>
      <div class="sub">Welcome back, <strong id="usernameDisplay"></strong></div>
      <div class="title-large">Advanced Mode — Posture Correction</div>
    </div>

    <div class="dropdown" id="modeDropdown">
      <button class="dropdown-btn" id="dropdownBtn">Mode: Advanced ▾</button>
      <div class="dropdown-menu" id="dropdownMenu">
        <button data-mode="beginner">Beginner</button>
        <button data-mode="intermediate">Intermediate</button>
        <button data-mode="advanced">Advanced</button>
      </div>
    </div>
  </div>

  <!-- Dashboard Title -->
  <div class="title-large" style="margin-bottom:10px;">Posture Correction Exercises</div>
  <div class="sub" style="margin-bottom:16px;">
    These exercises help improve spinal alignment, mobility, and posture stability.
  </div>

  <!-- EXERCISE GRID -->
  <div id="exerciseGrid" class="grid"></div>

  <!-- LOGOUT -->
  <div class="logout-btn" onclick="handleLogout()">Logout</div>

</div>

<script>
/* ==========================================================
   AUTH CHECK
========================================================== */
const uid = localStorage.getItem("current_user_id");
const uname = localStorage.getItem("current_user_name");

if(!uid || !uname){
  location.href = "https://pwa-s2rd.onrender.com/login.html";
}

document.getElementById("usernameDisplay").textContent = uname;

/* Logout */
function handleLogout(){
  localStorage.clear();
  location.href = "https://pwa-s2rd.onrender.com/logout.html";
}

/* ==========================================================
   ADVANCED — POSTURE EXERCISES LIST
   (2 per row automatically due to CSS)
========================================================== */
const POSTURE_EX = [
  {
    id: "pushup",
    title: "Push-up Posture Trainer",
    desc: "Correct push-up alignment, elbow path, and straight-body form.",
    file: "pushup.html"
  },
  {
    id: "squat",
    title: "Squat Posture Trainer",
    desc: "Improve knee alignment, hip stability, and back posture.",
    file: "squat.html"
  },
  {
    id: "arm_acw",
    title: "Arm Circles — Anti-clockwise",
    desc: "Maintain shoulder stability and proper circular motion.",
    file: "arm_acw.html"
  },
  {
    id: "arm_cw",
    title: "Arm Circles — Clockwise",
    desc: "Train shoulder mobility with correct clockwise rotation.",
    file: "arm_cw.html"
  }
];

/* ==========================================================
   Insert Cards into Grid (2 per row)
========================================================== */
const grid = document.getElementById("exerciseGrid");

POSTURE_EX.forEach(ex => {
  grid.innerHTML += `
    <div class="exercise-card">
      <div class="exercise-title">${ex.title}</div>
      <div class="exercise-desc">${ex.desc}</div>

      <button class="btn primary" style="margin-top:12px"
        onclick="startExercise('${ex.file}')">
        Start Exercise
      </button>
    </div>
  `;
});

/* ==========================================================
   Exercise Launch
========================================================== */
function startExercise(file){
  location.href = file;
}

/* ==========================================================
   MODE SWITCHING
========================================================== */
const dropdownBtn=document.getElementById("dropdownBtn");
const dropdownMenu=document.getElementById("dropdownMenu");

dropdownBtn.onclick=()=>{
  dropdownMenu.style.display =
    dropdownMenu.style.display==="flex" ? "none" : "flex";
  dropdownMenu.style.flexDirection="column";
};

document.addEventListener("click",e=>{
  if(!e.target.closest("#modeDropdown")){
    dropdownMenu.style.display="none";
  }
});

dropdownMenu.querySelectorAll("button").forEach(btn=>{
  btn.onclick=()=>{
    const mode = btn.dataset.mode;
    localStorage.setItem("aw_mode", mode);

    if(mode==="beginner") location.href="https://pwa-s2rd.onrender.com/home.html";
    if(mode==="intermediate") location.href="https://pwa-s2rd.onrender.com/Intermediate/intermediate_home.html";
    if(mode==="advanced") location.href="https://pwa-s2rd.onrender.com/advance_home.html";
  };
});
</script>
<script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js"></script>
<script src="https://files.bpcontent.cloud/2025/09/12/13/20250912131740-W10O18WN.js" defer></script>
</body>
</html>
